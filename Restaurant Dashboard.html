<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Dashboard</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4">
        <!-- Table Selection Section -->
        <h1 class="text-2xl font-bold mb-4">Restaurant Dashboard</h1>
        <div id="tables" class="grid grid-cols-3 gap-4 mb-4">
            <!-- Example Table Buttons -->
            <button class="table-button bg-blue-500 text-white p-4 rounded" onclick="loadTableData(1)">Table 1</button>
            <button class="table-button bg-blue-500 text-white p-4 rounded" onclick="loadTableData(2)">Table 2</button>
            <button class="table-button bg-blue-500 text-white p-4 rounded" onclick="loadTableData(3)">Table 3</button>
        </div>

        <!-- Dynamic Table Section -->
        <div id="table-section" class="hidden">
            <h2 class="text-xl font-bold mb-4">Table Details</h2>
            <div id="table-content" class="bg-white p-6 rounded shadow-lg">
                <!-- Order Data will be displayed here -->
            </div>
            <div id="action-buttons" class="mt-4">
                <!-- Action Buttons for Order Status -->
                <button class="action-button bg-green-500 text-white p-2 rounded mr-2" onclick="updateOrderStatus('confirmed')">Mark Order Confirmed</button>
                <button class="action-button bg-yellow-500 text-white p-2 rounded mr-2" onclick="updateOrderStatus('processing')">Mark Order Processing</button>
                <button class="action-button bg-blue-500 text-white p-2 rounded mr-2" onclick="updateOrderStatus('ready-to-serve')">Mark Order Ready to Serve</button>
                <button class="action-button bg-purple-500 text-white p-2 rounded mr-2" onclick="updateTableStatus('serve-clear')">Serve / Clear Table</button>
                <button class="action-button bg-gray-500 text-white p-2 rounded" onclick="updateTableStatus('reserved')">Reserved Table</button>
            </div>
        </div>
    </div>

    <script>
        // Mock Order Data (In a real-world scenario, this data would be fetched from the server)
        const ordersData = {
            1: [
                { id: 1, item: "Burger", status: "confirmed", date: "2025-04-04" },
                { id: 2, item: "Pizza", status: "processing", date: "2025-04-04" },
                { id: 3, item: "Pasta", status: "ready-to-serve", date: "2025-04-04" }
            ],
            2: [
                { id: 4, item: "Salad", status: "confirmed", date: "2025-04-04" },
                { id: 5, item: "Steak", status: "processing", date: "2025-04-04" }
            ],
            3: [
                { id: 6, item: "Soup", status: "ready-to-serve", date: "2025-04-04" }
            ]
        };

        let currentTable = null;

        // Function to load the selected table data
        function loadTableData(tableId) {
            currentTable = tableId;
            const tableContent = document.getElementById('table-content');
            const tableSection = document.getElementById('table-section');
            const currentDate = new Date().toISOString().split('T')[0]; // Current date in 'YYYY-MM-DD' format
            
            // Clear the table content
            tableContent.innerHTML = '';

            // Filter orders for the current day
            const filteredOrders = ordersData[tableId].filter(order => order.date === currentDate);

            if (filteredOrders.length === 0) {
                tableContent.innerHTML = '<p>No orders for today.</p>';
            } else {
                filteredOrders.forEach(order => {
                    tableContent.innerHTML += `<p>Order ID: ${order.id} - ${order.item} - Status: <strong>${order.status}</strong></p>`;
                });
            }

            // Show the table section
            tableSection.classList.remove('hidden');
        }

        // Function to update the order status (can be called by the action buttons)
        function updateOrderStatus(status) {
            if (!currentTable) return;
            const tableContent = document.getElementById('table-content');
            const currentDate = new Date().toISOString().split('T')[0];

            // Update the status of orders for the current table and day
            ordersData[currentTable] = ordersData[currentTable].map(order => {
                if (order.date === currentDate) {
                    order.status = status;
                }
                return order;
            });

            // Refresh the table content with updated order status
            loadTableData(currentTable);
        }

        // Function to update the table status (e.g., Serve / Clear Table or Reserved)
        function updateTableStatus(status) {
            if (!currentTable) return;
            const tableContent = document.getElementById('table-content');
            tableContent.innerHTML += `<p>Table status updated to: <strong>${status}</strong></p>`;
        }
    </script>
</body>
</html>
